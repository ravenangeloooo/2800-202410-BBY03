<%- include("templates/header") %>
<form action="/updateRequest" method="post">
    <input type="hidden" name="request_id" value="<%= request._id %>">
    <div class="container p-0" style="height: 50vh; overflow-y: auto;">
        <div class="p-4 mt-2">
            <div class="d-flex justify-content-between">
                <a href="/myRequests"><button type="button" class="btn btn-light fs-6">Cancel</button></a>
                <h3>Edit Request</h3>
                <button type="submit" class="btn btn-light fs-6">Update</button>
            </div>
        </div>
        <div class="form-floating py-3">
            <input name="title" type="title" class="form-control" placeholder="title" value="<%= request.title %>">
            <label for="floatingInput">Title</label>
        </div>

        <div class="form-floating py-3">
            <input name="description" type="description" class="form-control" placeholder="description" value="<%= request.description %>">
            <label for="floatingInput">Description</label>
        </div>

        <div class="form-floating py-3">
            <select class="form-select" id="visibility" name="visibility" required="">
                <option selected><%= request.visibility %></option>
                <option>Group 1</option>
                <option>Group 2</option>
                <!--Create a function that includes all the groups that user is in-->
            </select>
            <label for="visibility">Edit Visibility</label>
            <div class="invalid-feedback">
                Please select a valid visibility.
            </div>
        </div>

        <div class="form-floating py-3">
            <select class="form-select" id="status" required="">
                <option selected>Available</option> <!--Remember to add status-->
                <option>Unavailable</option>
                <!--Create a function that includes all the groups that user is in-->
            </select>
            <label for="status">Edit Status</label>
            <div class="invalid-feedback">
                Please select a valid status.
            </div>
        </div>
    </div>
</form>

<!-- New form for the delete button -->
<form action="/requests/<%= request._id %>/delete" method="POST" style="margin-bottom: 100px;">
    <div class="btn-lg">
        <div class="row mx-auto">
            <div class="d-flex justify-content-center">
                <button class="btn btn-danger" type="submit">Delete</button>
            </div>
        </div>
    </div>
</form>
<%- include("templates/footer") %>