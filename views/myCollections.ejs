<%- include("templates/header") %>

    <style>
        .scrollable-div {
            height: 600px;
            /* Set a specific height */
            overflow-y: auto;
            /* Add vertical scrollbar */
        }
    </style>


    <div class="container">
        <%- include("templates/collection") %>

            <div class="scrollable-div pt-2">
                <% items.forEach(function(item){ %>
                    <%- include("templates/itemcard", {item: item}) %>
                        <% }) %>
                        
                            <% requests.forEach(function(request){ %>
                                <%- include("templates/requestcard", {request: request}) %>
                                    <% }) %>

            </div>

    </div>


    <script>
        $('.slider').text('ITEMS');
        $('.requestCard').hide();
      
      
        $(document).ready(function () {
            if (Cookies.get('toggle') === 'requests') {
                $('.toggle').prop('checked', true);
                $('.itemCard').hide();
                $('.requestCard').show();

                $('.slider').text('REQUESTS');
                $(".slider").css("text-align", "start");
                $(".slider").css("color", "white");
                $(".slider").css("padding-left", "10px");
                $(".slider").css("padding-right", "10px");
            }
        });
      
        /**
         * 
         *  Toggle between items and requests
         *  
         *  Generated by Copilot
         *  @author Copilot
         * 
         **/
      
        $('.toggle').change(function () {
            if (this.checked) {
                console.log('toggle checked');
                $('.itemCard').hide();
                $('.requestCard').show();
      
      
                $('.slider').text('REQUESTS');
                $(".slider").css("text-align", "start");
                $(".slider").css("padding-left", "10px");
                $(".slider").css("padding-right", "10px");
                $(".slider").css("color", "white");
      
                Cookies.set('toggle', 'requests');

            } else {
                console.log('toggle unchecked');
      
                $('.itemCard').show();
                $('.requestCard').hide();
      
      
                $('.slider').text('ITEMS');
                $(".slider").css("text-align", "end");
                $(".slider").css("padding-right", "35px");
                $(".slider").css("color", "black");

                Cookies.set('toggle', 'items');

            }
        });
      </script>
    <%- include("templates/footer") %>